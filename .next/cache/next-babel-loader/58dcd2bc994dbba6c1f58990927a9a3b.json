{"ast":null,"code":"import _regeneratorRuntime from \"@babel/runtime-corejs2/regenerator\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n// App\nimport React, { Fragment, Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport Header from '../components/Header/header';\nimport Home from '../containers/Home/home';\nimport Footer from '../components/Footer/footer';\nimport fetch from 'isomorphic-unfetch';\nimport '../stylesheets/base.scss';\nimport '../stylesheets/design.scss';\nimport CMS from '../lib/api';\nimport Configuration from '../lib/api/configuration';\nimport Head from 'next/head';\nimport Router, { withRouter } from 'next/router';\nimport Login from '../components/Login';\nimport ReactGA from 'react-ga';\n\nvar Index =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Index, _Component);\n\n  function Index() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Index);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Index)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      categoryIndex: 0,\n      showLoginPage: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"getCookie\", function (cookieName) {\n      console.log(cookieName);\n      var match = document.cookie.match(new RegExp('(^| )' + cookieName + '=([^;]+)'));\n      if (match) return match[2];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"expandCategory\", function () {\n      _this.setState({\n        categoryIndex: _this.state.categoryIndex + 1\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"collapseCategory\", function () {\n      _this.setState({\n        categoryIndex: 0\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showLoginPage\", function (event) {\n      if (_this.state.showLoginPage) {\n        _this.setState({\n          showLoginPage: false\n        });\n      } else {\n        _this.setState({\n          showLoginPage: true\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSearchProduct\", function (event) {\n      var searchText = _this.state.searchKeyword;\n      var key = searchText.replace(\" \", \"+\");\n      Router.push({\n        pathname: '/tim-kiem',\n        query: {\n          q: key\n        }\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onSubscribeEmail\", function (event) {\n      var subscribedEmail = _this.state.subscribedEmail;\n\n      if (subscribedEmail == '') {\n        return true;\n      } else {\n        CMS.subscribeEmail(subscribedEmail).then(function (response) {\n          alert('Đăng ký thành công email');\n        })[\"catch\"](function (e) {\n          if (e.status === 500) {\n            if (e.data.error.message) alert('Email đã tồn tại');\n          }\n        });\n      }\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChangeSearch\", function (event) {\n      var searchText = event.target.value;\n\n      _this.setState({\n        searchKeyword: searchText\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onChangeSubscribeEmail\", function (event) {\n      var subscribedEmail = event.target.value;\n\n      _this.setState({\n        subscribedEmail: subscribedEmail\n      });\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"onKeyPressEnterSearch\", function (event) {\n      if (event.key === 'Enter') {\n        var searchText = event.target.value;\n\n        _this.setState({\n          searchKeyword: searchText\n        });\n\n        Router.push({\n          pathname: '/tim-kiem',\n          query: {\n            q: searchText.replace(\" \", \"+\")\n          }\n        });\n      }\n    });\n\n    return _this;\n  }\n\n  _createClass(Index, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {// ReactGA.initialize('UA-76030080-1',{\n      //     debug: true,\n      //     titleCase: false,\n      //   });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(Fragment, null, __jsx(Head, null, __jsx(\"meta\", {\n        charset: \"utf-8\"\n      }), __jsx(\"meta\", {\n        content: \"ie=edge\",\n        \"http-equiv\": \"x-ua-compatible\"\n      }), __jsx(\"meta\", {\n        content: \"width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no, viewport-fit=cover, minimal-ui\",\n        name: \"viewport\"\n      }), __jsx(\"meta\", {\n        name: \"description\",\n        content: \"Ho\\xE0n ti\\u1EC1n kh\\xF4ng gi\\u1EDBi h\\u1EA1n khi mua h\\xE0ng online, t\\xEDch l\\u0169y \\u0111\\u1ED5i coupon, mua s\\u1EAFm th\\xF4ng minh ti\\u1EBFt ki\\u1EC7m h\\u01A1n\"\n      }), __jsx(\"meta\", {\n        name: \"google-site-verification\",\n        content: \"SrxwQy7XQvAIxDuUy44XYMoLEwhskun04Ed0LuRIDrU\"\n      }), \"0\", __jsx(\"meta\", {\n        name: \"robots\",\n        content: \"INDEX,FOLLOW\"\n      }), __jsx(\"meta\", {\n        name: \"keywords\",\n        content: \"Fundi.vn\"\n      }), __jsx(\"meta\", {\n        name: \"fragment\",\n        content: \"!\"\n      }), __jsx(\"title\", null, \" Ho\\xE0n ti\\u1EC1n, m\\xE3 gi\\u1EA3m gi\\xE1 t\\u1EEB Shopee, Tiki, Lazada, Agoda, Concung, FPT Shop, the coffee house \"), __jsx(\"link\", {\n        key: \"shortcut_icon\",\n        rel: \"shortcut icon\",\n        href: \"/assets/images/fundi-logo.png\"\n      }), __jsx(\"link\", {\n        key: \"apple-touch-icon\",\n        rel: \"apple-touch-icon\",\n        href: \"/assets/images/fundi-logo.png\"\n      }), __jsx(\"script\", {\n        dangerouslySetInnerHTML: {\n          __html: \"(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\\n    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\\n    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\\n    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\\n  })(window,document,'script','dataLayer','GTM-PR6RH5');\"\n        }\n      }), __jsx(\"link\", {\n        rel: \"stylesheet\",\n        type: \"text/css\",\n        charset: \"UTF-8\",\n        href: \"https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.css\"\n      }), __jsx(\"link\", {\n        rel: \"stylesheet\",\n        type: \"text/css\",\n        href: \"https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick-theme.min.css\"\n      })), __jsx(Header, _extends({}, this.props, {\n        mobileCheck: this.mobileCheck,\n        collapseCategory: this.collapseCategory,\n        expandCategory: this.expandCategory,\n        categoryIndex: this.state.categoryIndex,\n        onKeyPressEnterSearch: this.onKeyPressEnterSearch,\n        onSearchProduct: this.onSearchProduct,\n        onChangeSearch: this.onChangeSearch,\n        searchName: this.state.searchKeyword,\n        showLoginPage: this.showLoginPage\n      })), __jsx(\"main\", {\n        className: \"main\"\n      }, __jsx(Home, this.props), this.state.showLoginPage && __jsx(Login, {\n        showLoginPage: this.showLoginPage,\n        cookieManagement: this.cookieManagement\n      })), __jsx(Footer, {\n        onSubscribeEmail: this.onSubscribeEmail,\n        onChangeSubscribeEmail: this.onChangeSubscribeEmail,\n        subscribedEmail: this.state.subscribedEmail\n      }));\n    }\n  }], [{\n    key: \"getInitialProps\",\n    value: function getInitialProps() {\n      var json, res;\n      return _regeneratorRuntime.async(function getInitialProps$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              json = {\n                \"pagination\": {\n                  \"total\": 18,\n                  \"current_page\": 1,\n                  \"limit\": 20,\n                  \"total_page\": 1\n                },\n                \"data\": [{\n                  \"id\": 4,\n                  \"slug\": \"sach-vpp\",\n                  \"title\": \"S\\xE1ch, VPP\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon3.png\",\n                  \"fa_class_name\": \"fa-book-open\",\n                  \"sort_order\": 1\n                }, {\n                  \"id\": 7,\n                  \"slug\": \"may-tinh-laptop\",\n                  \"title\": \"M\\xE1y t\\xEDnh & Laptop\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon6.png\",\n                  \"fa_class_name\": \"fa-laptop\",\n                  \"sort_order\": 2\n                }, {\n                  \"id\": 8,\n                  \"slug\": \"dien-thoai-may-tinh-bang\",\n                  \"title\": \"\\u0110i\\u1EC7n tho\\u1EA1i & M\\xE1y t\\xEDnh b\\u1EA3ng\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon7.png\",\n                  \"fa_class_name\": \"fa-mobile-alt\",\n                  \"sort_order\": 3\n                }, {\n                  \"id\": 17,\n                  \"slug\": \"vouchers-du-lich\",\n                  \"title\": \"Vouchers Du l\\u1ECBch\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon4.png\",\n                  \"fa_class_name\": \"fa-plane\",\n                  \"sort_order\": 4\n                }, {\n                  \"id\": 18,\n                  \"slug\": \"vouchers-dich-vu\",\n                  \"title\": \"Vouchers D\\u1ECBch v\\u1EE5\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon5.png\",\n                  \"fa_class_name\": \"fa-ticket\",\n                  \"sort_order\": 5\n                }, {\n                  \"id\": 15,\n                  \"slug\": \"thuc-pham-sieu-thi\",\n                  \"title\": \"Th\\u1EF1c ph\\u1EA9m & Si\\xEAu Th\\u1ECB\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon2.png\",\n                  \"fa_class_name\": \"fa-shopping-cart\",\n                  \"sort_order\": 6\n                }, {\n                  \"id\": 16,\n                  \"slug\": \"nha-cua-doi-song\",\n                  \"title\": \"Nh\\xE0 c\\u1EEDa & \\u0110\\u1EDDi s\\u1ED1ng\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon3.png\",\n                  \"fa_class_name\": \"fa-home-lg-alt\",\n                  \"sort_order\": 7\n                }, {\n                  \"id\": 13,\n                  \"slug\": \"me-be-do-ch\\u01A1i\",\n                  \"title\": \"M\\u1EB9 & B\\xE9 & \\u0110\\u1ED3 ch\\u01A1i\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon0.png\",\n                  \"fa_class_name\": \"fa-baby-carriage\",\n                  \"sort_order\": 8\n                }, {\n                  \"id\": 14,\n                  \"slug\": \"dien-may-dien-gia-dung\",\n                  \"title\": \"\\u0110i\\u1EC7n m\\xE1y - \\u0111i\\u1EC7n gia d\\u1EE5ng\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon1.png\",\n                  \"fa_class_name\": \"fa-refrigerator\",\n                  \"sort_order\": 9\n                }, {\n                  \"id\": 6,\n                  \"slug\": \"thoi-trang\",\n                  \"title\": \"Th\\u1EDDi trang\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon5.png\",\n                  \"fa_class_name\": \"fa-tshirt\",\n                  \"sort_order\": 10\n                }, {\n                  \"id\": 11,\n                  \"slug\": \"suc-khoe-lam-dep\",\n                  \"title\": \"S\\u1EE9c Kho\\u1EBB & L\\xE0m \\u0111\\u1EB9p\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon10.png\",\n                  \"fa_class_name\": \"fa-spa\",\n                  \"sort_order\": 11\n                }, {\n                  \"id\": 2,\n                  \"slug\": \"the-thao-da-ngoai\",\n                  \"title\": \"Th\\u1EC3 thao & D\\xE3 ngo\\u1EA1i\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon1.png\",\n                  \"fa_class_name\": \"fa-running\",\n                  \"sort_order\": 12\n                }, {\n                  \"id\": 19,\n                  \"slug\": \"cham-soc-thu-cung\",\n                  \"title\": \"Ch\\u0103m s\\xF3c th\\xFA c\\u01B0ng\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon6.png\",\n                  \"fa_class_name\": \"fa-paw\",\n                  \"sort_order\": 13\n                }, {\n                  \"id\": 20,\n                  \"slug\": \"thuc-pham-chuc-nang\",\n                  \"title\": \"Th\\u1EF1c ph\\u1EA9m ch\\u1EE9c n\\u0103ng\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon7.png\",\n                  \"fa_class_name\": \"fa-flower-daffodil\",\n                  \"sort_order\": 14\n                }, {\n                  \"id\": 10,\n                  \"slug\": \"may-quay-phim-may-anh\",\n                  \"title\": \"M\\xE1y quay phim & m\\xE1y \\u1EA3nh\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon9.png\",\n                  \"fa_class_name\": \"fa-camera\",\n                  \"sort_order\": 16\n                }, {\n                  \"id\": 9,\n                  \"slug\": \"tivi\",\n                  \"title\": \"Tivi\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon8.png\",\n                  \"fa_class_name\": \"fa-tv\",\n                  \"sort_order\": 17\n                }, {\n                  \"id\": 5,\n                  \"slug\": \"oto-xe-may-thiet-bi-so\",\n                  \"title\": \"\\xD4t\\xF4, xe m\\xE1y & thi\\u1EBFt b\\u1ECB s\\u1ED1\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon4.png\",\n                  \"fa_class_name\": \"fa-car\",\n                  \"sort_order\": 18\n                }, {\n                  \"id\": 3,\n                  \"slug\": \"phu-kien-dien-tu\",\n                  \"title\": \"Ph\\u1EE5 ki\\u1EC7n \\u0111i\\u1EC7n t\\u1EED\",\n                  \"description\": null,\n                  \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon2.png\",\n                  \"fa_class_name\": \"fa-plug\",\n                  \"sort_order\": 19\n                }]\n              };\n              _context.next = 3;\n              return _regeneratorRuntime.awrap(CMS.getCoupons());\n\n            case 3:\n              res = _context.sent;\n              return _context.abrupt(\"return\", {\n                categories: json.data,\n                products: res.data.data\n              });\n\n            case 5:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      });\n    }\n  }]);\n\n  return Index;\n}(Component);\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}