{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n// App\nimport React, { Fragment, Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport Header from '../components/Header/header';\nimport Home from '../containers/Home/home';\nimport Footer from '../components/Footer/footer';\nimport fetch from 'isomorphic-unfetch';\nimport '../stylesheets/base.scss';\nimport '../stylesheets/design.scss';\nimport CMS from '../lib/api';\nimport Configuration from '../lib/api/configuration';\nimport Head from 'next/head';\nimport Router, { withRouter } from 'next/router';\nimport Login from '../components/Login';\nimport ReactGA from 'react-ga';\n\nclass Index extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      categoryIndex: 0,\n      showLoginPage: false\n    });\n\n    _defineProperty(this, \"getCookie\", cookieName => {\n      console.log(cookieName);\n      var match = document.cookie.match(new RegExp('(^| )' + cookieName + '=([^;]+)'));\n      if (match) return match[2];\n    });\n\n    _defineProperty(this, \"expandCategory\", () => {\n      this.setState({\n        categoryIndex: this.state.categoryIndex + 1\n      });\n    });\n\n    _defineProperty(this, \"collapseCategory\", () => {\n      this.setState({\n        categoryIndex: 0\n      });\n    });\n\n    _defineProperty(this, \"showLoginPage\", event => {\n      if (this.state.showLoginPage) {\n        this.setState({\n          showLoginPage: false\n        });\n      } else {\n        this.setState({\n          showLoginPage: true\n        });\n      }\n    });\n\n    _defineProperty(this, \"onSearchProduct\", event => {\n      let searchText = this.state.searchKeyword;\n      let key = searchText.replace(\" \", \"+\");\n      Router.push({\n        pathname: '/tim-kiem',\n        query: {\n          q: key\n        }\n      });\n    });\n\n    _defineProperty(this, \"onSubscribeEmail\", event => {\n      let subscribedEmail = this.state.subscribedEmail;\n\n      if (subscribedEmail == '') {\n        return true;\n      } else {\n        CMS.subscribeEmail(subscribedEmail).then(response => {\n          alert('Đăng ký thành công email');\n        }).catch(function (e) {\n          if (e.status === 500) {\n            if (e.data.error.message) alert('Email đã tồn tại');\n          }\n        });\n      }\n    });\n\n    _defineProperty(this, \"onChangeSearch\", event => {\n      let searchText = event.target.value;\n      this.setState({\n        searchKeyword: searchText\n      });\n    });\n\n    _defineProperty(this, \"onChangeSubscribeEmail\", event => {\n      let subscribedEmail = event.target.value;\n      this.setState({\n        subscribedEmail: subscribedEmail\n      });\n    });\n\n    _defineProperty(this, \"onKeyPressEnterSearch\", event => {\n      if (event.key === 'Enter') {\n        let searchText = event.target.value;\n        this.setState({\n          searchKeyword: searchText\n        });\n        Router.push({\n          pathname: '/tim-kiem',\n          query: {\n            q: searchText.replace(\" \", \"+\")\n          }\n        });\n      }\n    });\n  }\n\n  static async getInitialProps() {\n    const json = {\n      \"pagination\": {\n        \"total\": 18,\n        \"current_page\": 1,\n        \"limit\": 20,\n        \"total_page\": 1\n      },\n      \"data\": [{\n        \"id\": 4,\n        \"slug\": \"sach-vpp\",\n        \"title\": \"S\\u00e1ch, VPP\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon3.png\",\n        \"fa_class_name\": \"fa-book-open\",\n        \"sort_order\": 1\n      }, {\n        \"id\": 7,\n        \"slug\": \"may-tinh-laptop\",\n        \"title\": \"M\\u00e1y t\\u00ednh & Laptop\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon6.png\",\n        \"fa_class_name\": \"fa-laptop\",\n        \"sort_order\": 2\n      }, {\n        \"id\": 8,\n        \"slug\": \"dien-thoai-may-tinh-bang\",\n        \"title\": \"\\u0110i\\u1ec7n tho\\u1ea1i & M\\u00e1y t\\u00ednh b\\u1ea3ng\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon7.png\",\n        \"fa_class_name\": \"fa-mobile-alt\",\n        \"sort_order\": 3\n      }, {\n        \"id\": 17,\n        \"slug\": \"vouchers-du-lich\",\n        \"title\": \"Vouchers Du l\\u1ecbch\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon4.png\",\n        \"fa_class_name\": \"fa-plane\",\n        \"sort_order\": 4\n      }, {\n        \"id\": 18,\n        \"slug\": \"vouchers-dich-vu\",\n        \"title\": \"Vouchers D\\u1ecbch v\\u1ee5\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon5.png\",\n        \"fa_class_name\": \"fa-ticket\",\n        \"sort_order\": 5\n      }, {\n        \"id\": 15,\n        \"slug\": \"thuc-pham-sieu-thi\",\n        \"title\": \"Th\\u1ef1c ph\\u1ea9m & Si\\u00eau Th\\u1ecb\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon2.png\",\n        \"fa_class_name\": \"fa-shopping-cart\",\n        \"sort_order\": 6\n      }, {\n        \"id\": 16,\n        \"slug\": \"nha-cua-doi-song\",\n        \"title\": \"Nh\\u00e0 c\\u1eeda & \\u0110\\u1eddi s\\u1ed1ng\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon3.png\",\n        \"fa_class_name\": \"fa-home-lg-alt\",\n        \"sort_order\": 7\n      }, {\n        \"id\": 13,\n        \"slug\": \"me-be-do-ch\\u01a1i\",\n        \"title\": \"M\\u1eb9 & B\\u00e9 & \\u0110\\u1ed3 ch\\u01a1i\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon0.png\",\n        \"fa_class_name\": \"fa-baby-carriage\",\n        \"sort_order\": 8\n      }, {\n        \"id\": 14,\n        \"slug\": \"dien-may-dien-gia-dung\",\n        \"title\": \"\\u0110i\\u1ec7n m\\u00e1y - \\u0111i\\u1ec7n gia d\\u1ee5ng\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon1.png\",\n        \"fa_class_name\": \"fa-refrigerator\",\n        \"sort_order\": 9\n      }, {\n        \"id\": 6,\n        \"slug\": \"thoi-trang\",\n        \"title\": \"Th\\u1eddi trang\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon5.png\",\n        \"fa_class_name\": \"fa-tshirt\",\n        \"sort_order\": 10\n      }, {\n        \"id\": 11,\n        \"slug\": \"suc-khoe-lam-dep\",\n        \"title\": \"S\\u1ee9c Kho\\u1ebb & L\\u00e0m \\u0111\\u1eb9p\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon10.png\",\n        \"fa_class_name\": \"fa-spa\",\n        \"sort_order\": 11\n      }, {\n        \"id\": 2,\n        \"slug\": \"the-thao-da-ngoai\",\n        \"title\": \"Th\\u1ec3 thao & D\\u00e3 ngo\\u1ea1i\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon1.png\",\n        \"fa_class_name\": \"fa-running\",\n        \"sort_order\": 12\n      }, {\n        \"id\": 19,\n        \"slug\": \"cham-soc-thu-cung\",\n        \"title\": \"Ch\\u0103m s\\u00f3c th\\u00fa c\\u01b0ng\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon6.png\",\n        \"fa_class_name\": \"fa-paw\",\n        \"sort_order\": 13\n      }, {\n        \"id\": 20,\n        \"slug\": \"thuc-pham-chuc-nang\",\n        \"title\": \"Th\\u1ef1c ph\\u1ea9m ch\\u1ee9c n\\u0103ng\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon7.png\",\n        \"fa_class_name\": \"fa-flower-daffodil\",\n        \"sort_order\": 14\n      }, {\n        \"id\": 10,\n        \"slug\": \"may-quay-phim-may-anh\",\n        \"title\": \"M\\u00e1y quay phim & m\\u00e1y \\u1ea3nh\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon9.png\",\n        \"fa_class_name\": \"fa-camera\",\n        \"sort_order\": 16\n      }, {\n        \"id\": 9,\n        \"slug\": \"tivi\",\n        \"title\": \"Tivi\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon8.png\",\n        \"fa_class_name\": \"fa-tv\",\n        \"sort_order\": 17\n      }, {\n        \"id\": 5,\n        \"slug\": \"oto-xe-may-thiet-bi-so\",\n        \"title\": \"\\u00d4t\\u00f4, xe m\\u00e1y & thi\\u1ebft b\\u1ecb s\\u1ed1\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon4.png\",\n        \"fa_class_name\": \"fa-car\",\n        \"sort_order\": 18\n      }, {\n        \"id\": 3,\n        \"slug\": \"phu-kien-dien-tu\",\n        \"title\": \"Ph\\u1ee5 ki\\u1ec7n \\u0111i\\u1ec7n t\\u1eed\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon2.png\",\n        \"fa_class_name\": \"fa-plug\",\n        \"sort_order\": 19\n      }]\n    };\n    const res = await CMS.getCoupons();\n    return {\n      categories: json.data,\n      products: res.data.data\n    };\n  }\n\n  componentDidMount() {// ReactGA.initialize('UA-76030080-1',{\n    //     debug: true,\n    //     titleCase: false,\n    //   });\n  }\n\n  render() {\n    return __jsx(Fragment, null, __jsx(Head, null, __jsx(\"meta\", {\n      charset: \"utf-8\"\n    }), __jsx(\"meta\", {\n      content: \"ie=edge\",\n      \"http-equiv\": \"x-ua-compatible\"\n    }), __jsx(\"meta\", {\n      content: \"width=device-width, initial-scale=1, maximum-scale=1, shrink-to-fit=no, viewport-fit=cover, minimal-ui\",\n      name: \"viewport\"\n    }), __jsx(\"meta\", {\n      name: \"description\",\n      content: \"Ho\\xE0n ti\\u1EC1n kh\\xF4ng gi\\u1EDBi h\\u1EA1n khi mua h\\xE0ng online, t\\xEDch l\\u0169y \\u0111\\u1ED5i coupon, mua s\\u1EAFm th\\xF4ng minh ti\\u1EBFt ki\\u1EC7m h\\u01A1n\"\n    }), __jsx(\"meta\", {\n      name: \"google-site-verification\",\n      content: \"SrxwQy7XQvAIxDuUy44XYMoLEwhskun04Ed0LuRIDrU\"\n    }), \"0\", __jsx(\"meta\", {\n      name: \"robots\",\n      content: \"INDEX,FOLLOW\"\n    }), __jsx(\"meta\", {\n      name: \"keywords\",\n      content: \"Fundi.vn\"\n    }), __jsx(\"meta\", {\n      name: \"fragment\",\n      content: \"!\"\n    }), __jsx(\"title\", null, \" Ho\\xE0n ti\\u1EC1n, m\\xE3 gi\\u1EA3m gi\\xE1 t\\u1EEB Shopee, Tiki, Lazada, Agoda, Concung, FPT Shop, the coffee house \"), __jsx(\"link\", {\n      key: \"shortcut_icon\",\n      rel: \"shortcut icon\",\n      href: \"/assets/images/fundi-logo.png\"\n    }), __jsx(\"link\", {\n      key: \"apple-touch-icon\",\n      rel: \"apple-touch-icon\",\n      href: \"/assets/images/fundi-logo.png\"\n    }), __jsx(\"script\", {\n      dangerouslySetInnerHTML: {\n        __html: `(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n  })(window,document,'script','dataLayer','GTM-PR6RH5');`\n      }\n    }), __jsx(\"link\", {\n      rel: \"stylesheet\",\n      type: \"text/css\",\n      charset: \"UTF-8\",\n      href: \"https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick.min.css\"\n    }), __jsx(\"link\", {\n      rel: \"stylesheet\",\n      type: \"text/css\",\n      href: \"https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.6.0/slick-theme.min.css\"\n    })), __jsx(Header, _extends({}, this.props, {\n      mobileCheck: this.mobileCheck,\n      collapseCategory: this.collapseCategory,\n      expandCategory: this.expandCategory,\n      categoryIndex: this.state.categoryIndex,\n      onKeyPressEnterSearch: this.onKeyPressEnterSearch,\n      onSearchProduct: this.onSearchProduct,\n      onChangeSearch: this.onChangeSearch,\n      searchName: this.state.searchKeyword,\n      showLoginPage: this.showLoginPage\n    })), __jsx(\"main\", {\n      className: \"main\"\n    }, __jsx(Home, this.props), this.state.showLoginPage && __jsx(Login, {\n      showLoginPage: this.showLoginPage,\n      cookieManagement: this.cookieManagement\n    })), __jsx(Footer, {\n      onSubscribeEmail: this.onSubscribeEmail,\n      onChangeSubscribeEmail: this.onChangeSubscribeEmail,\n      subscribedEmail: this.state.subscribedEmail\n    }));\n  }\n\n}\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}