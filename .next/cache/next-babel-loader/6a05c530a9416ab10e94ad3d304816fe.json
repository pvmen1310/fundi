{"ast":null,"code":"import _parseInt from \"@babel/runtime-corejs2/core-js/parse-int\";\nimport _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\n// App\nimport React, { Fragment, Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport Header from '../../components/Header';\nimport Post from '../../components/Post';\nimport Footer from '../../components/Footer';\nimport PageNotFound from '../../components/PageNotFound';\nimport PostCategory from '../../components/PostCategory';\nimport fetch from 'isomorphic-unfetch';\nimport '../../stylesheets/base.scss';\nimport '../../stylesheets/design.scss';\nimport CMS from '../../lib/api';\nimport { useRouter } from 'next/router';\nimport Head from 'next/head';\nimport Error from 'next/error';\nimport Router, { withRouter } from 'next/router';\nimport Privacy from '../../components/Pages/Privacy';\nimport About from '../../components/Pages/About';\nimport Login from '../../components/Login';\n\nclass PagePost extends Component {\n  constructor(...args) {\n    super(...args);\n\n    _defineProperty(this, \"state\", {\n      categoryIndex: 0\n    });\n\n    _defineProperty(this, \"expandCategory\", () => {\n      this.setState({\n        categoryIndex: this.state.categoryIndex + 1\n      });\n    });\n\n    _defineProperty(this, \"collapseCategory\", () => {\n      this.setState({\n        categoryIndex: 0\n      });\n    });\n\n    _defineProperty(this, \"showLoginPage\", event => {\n      if (this.state.showLoginPage) {\n        this.setState({\n          showLoginPage: false\n        });\n      } else {\n        this.setState({\n          showLoginPage: true\n        });\n      }\n    });\n  }\n\n  static async getInitialProps({\n    query\n  }) {\n    const postCategoryId = [{\n      id: 22,\n      \"slug\": \"bai-noi-bat\"\n    }, {\n      id: 32,\n      \"slug\": \"bitis-hunter\"\n    }, {\n      id: 37,\n      \"slug\": \"kinh-nghiem-hay\"\n    }, {\n      id: 1,\n      \"slug\": \"chuyen-muc-khac\"\n    }, {\n      id: 3,\n      \"slug\": \"blog\"\n    }, {\n      id: 28,\n      \"slug\": \"dat-phong-khach-san\"\n    }, {\n      id: 177,\n      \"slug\": \"dien-may-dien-gia-dung\"\n    }, {\n      id: 38,\n      \"slug\": \"khuyen-mai-moi\"\n    }, {\n      id: 29,\n      \"slug\": \"lam-dep\"\n    }, {\n      id: 27,\n      \"slug\": \"ma-giam-gia\"\n    }, {\n      id: 33,\n      \"slug\": \"me-va-be\"\n    }, {\n      id: 24,\n      \"slug\": \"mua-hang-online\"\n    }, {\n      id: 186,\n      \"slug\": \"thoi-trang\"\n    }, {\n      id: 31,\n      \"slug\": \"tour-du-lich\"\n    }, {\n      id: 20,\n      \"slug\": \"ve-may-bay\"\n    }, {\n      id: 197,\n      \"slug\": \"voucher-an-uong\"\n    }];\n    const postCategorySlug = [\"bai-noi-bat\", \"bitis-hunter\", \"kinh-nghiem-hay\", \"chuyen-muc-khac\", \"blog\", \"dat-phong-khach-san\", \"dien-may-dien-gia-dung\", \"khuyen-mai-moi\", \"lam-dep\", \"ma-giam-gia\", \"me-va-be\", \"mua-hang-online\", \"thoi-trang\", \"tour-du-lich\", \"ve-may-bay\", \"voucher-an-uong\"];\n    const pages = [\"chinh-sach-bao-mat\", \"gioi-thieu-fundi-vn\"];\n    const json = {\n      \"pagination\": {\n        \"total\": 18,\n        \"current_page\": 1,\n        \"limit\": 20,\n        \"total_page\": 1\n      },\n      \"data\": [{\n        \"id\": 4,\n        \"slug\": \"sach-vpp\",\n        \"title\": \"S\\u00e1ch, VPP\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon3.png\",\n        \"fa_class_name\": \"fa-book-open\",\n        \"sort_order\": 1\n      }, {\n        \"id\": 7,\n        \"slug\": \"may-tinh-laptop\",\n        \"title\": \"M\\u00e1y t\\u00ednh & Laptop\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon6.png\",\n        \"fa_class_name\": \"fa-laptop\",\n        \"sort_order\": 2\n      }, {\n        \"id\": 8,\n        \"slug\": \"dien-thoai-may-tinh-bang\",\n        \"title\": \"\\u0110i\\u1ec7n tho\\u1ea1i & M\\u00e1y t\\u00ednh b\\u1ea3ng\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon7.png\",\n        \"fa_class_name\": \"fa-mobile-alt\",\n        \"sort_order\": 3\n      }, {\n        \"id\": 17,\n        \"slug\": \"vouchers-du-lich\",\n        \"title\": \"Vouchers Du l\\u1ecbch\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon4.png\",\n        \"fa_class_name\": \"fa-plane\",\n        \"sort_order\": 4\n      }, {\n        \"id\": 18,\n        \"slug\": \"vouchers-dich-vu\",\n        \"title\": \"Vouchers D\\u1ecbch v\\u1ee5\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon5.png\",\n        \"fa_class_name\": \"fa-ticket\",\n        \"sort_order\": 5\n      }, {\n        \"id\": 15,\n        \"slug\": \"thuc-pham-sieu-thi\",\n        \"title\": \"Th\\u1ef1c ph\\u1ea9m & Si\\u00eau Th\\u1ecb\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon2.png\",\n        \"fa_class_name\": \"fa-shopping-cart\",\n        \"sort_order\": 6\n      }, {\n        \"id\": 16,\n        \"slug\": \"nha-cua-doi-song\",\n        \"title\": \"Nh\\u00e0 c\\u1eeda & \\u0110\\u1eddi s\\u1ed1ng\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon3.png\",\n        \"fa_class_name\": \"fa-home-lg-alt\",\n        \"sort_order\": 7\n      }, {\n        \"id\": 13,\n        \"slug\": \"me-be-do-ch\\u01a1i\",\n        \"title\": \"M\\u1eb9 & B\\u00e9 & \\u0110\\u1ed3 ch\\u01a1i\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon0.png\",\n        \"fa_class_name\": \"fa-baby-carriage\",\n        \"sort_order\": 8\n      }, {\n        \"id\": 14,\n        \"slug\": \"dien-may-dien-gia-dung\",\n        \"title\": \"\\u0110i\\u1ec7n m\\u00e1y - \\u0111i\\u1ec7n gia d\\u1ee5ng\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon1.png\",\n        \"fa_class_name\": \"fa-refrigerator\",\n        \"sort_order\": 9\n      }, {\n        \"id\": 6,\n        \"slug\": \"thoi-trang\",\n        \"title\": \"Th\\u1eddi trang\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon5.png\",\n        \"fa_class_name\": \"fa-tshirt\",\n        \"sort_order\": 10\n      }, {\n        \"id\": 11,\n        \"slug\": \"suc-khoe-lam-dep\",\n        \"title\": \"S\\u1ee9c Kho\\u1ebb & L\\u00e0m \\u0111\\u1eb9p\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon10.png\",\n        \"fa_class_name\": \"fa-spa\",\n        \"sort_order\": 11\n      }, {\n        \"id\": 2,\n        \"slug\": \"the-thao-da-ngoai\",\n        \"title\": \"Th\\u1ec3 thao & D\\u00e3 ngo\\u1ea1i\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon1.png\",\n        \"fa_class_name\": \"fa-running\",\n        \"sort_order\": 12\n      }, {\n        \"id\": 19,\n        \"slug\": \"cham-soc-thu-cung\",\n        \"title\": \"Ch\\u0103m s\\u00f3c th\\u00fa c\\u01b0ng\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon6.png\",\n        \"fa_class_name\": \"fa-paw\",\n        \"sort_order\": 13\n      }, {\n        \"id\": 20,\n        \"slug\": \"thuc-pham-chuc-nang\",\n        \"title\": \"Th\\u1ef1c ph\\u1ea9m ch\\u1ee9c n\\u0103ng\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon7.png\",\n        \"fa_class_name\": \"fa-flower-daffodil\",\n        \"sort_order\": 14\n      }, {\n        \"id\": 10,\n        \"slug\": \"may-quay-phim-may-anh\",\n        \"title\": \"M\\u00e1y quay phim & m\\u00e1y \\u1ea3nh\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon9.png\",\n        \"fa_class_name\": \"fa-camera\",\n        \"sort_order\": 16\n      }, {\n        \"id\": 9,\n        \"slug\": \"tivi\",\n        \"title\": \"Tivi\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon8.png\",\n        \"fa_class_name\": \"fa-tv\",\n        \"sort_order\": 17\n      }, {\n        \"id\": 5,\n        \"slug\": \"oto-xe-may-thiet-bi-so\",\n        \"title\": \"\\u00d4t\\u00f4, xe m\\u00e1y & thi\\u1ebft b\\u1ecb s\\u1ed1\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon4.png\",\n        \"fa_class_name\": \"fa-car\",\n        \"sort_order\": 18\n      }, {\n        \"id\": 3,\n        \"slug\": \"phu-kien-dien-tu\",\n        \"title\": \"Ph\\u1ee5 ki\\u1ec7n \\u0111i\\u1ec7n t\\u1eed\",\n        \"description\": null,\n        \"image_src\": \"https:\\/\\/fundi-storage.s3-ap-southeast-1.amazonaws.com\\/images\\/fundi-categories-icon\\/icon2.png\",\n        \"fa_class_name\": \"fa-plug\",\n        \"sort_order\": 19\n      }]\n    };\n    if (query.post_slug == undefined) return {};\n\n    if (pages.includes(query.post_slug)) {\n      return {\n        categories: json.data,\n        pages: query.post_slug\n      };\n    }\n\n    if (postCategorySlug.includes(query.post_slug)) {\n      var categoryId = '';\n      postCategoryId.forEach(item => {\n        if (item.slug == query.post_slug) {\n          categoryId = item.id;\n        }\n      });\n      const res = await CMS.getPostsByCategory(categoryId);\n      return {\n        categories: json.data,\n        postList: res.data\n      };\n    } else {\n      const res = await CMS.getPosts(query.post_slug);\n\n      if (res.data[0] && res.data[0].id) {\n        const commentRes = await CMS.getComments(res.data[0].id);\n        return {\n          categories: json.data,\n          post: res.data[0],\n          comments: commentRes.data\n        };\n      } else {\n        return {\n          categories: json.data\n        };\n      }\n    }\n  }\n\n  render() {\n    if (this.props.pages == 'chinh-sach-bao-mat') {\n      return __jsx(Fragment, null, __jsx(Head, null, __jsx(\"link\", {\n        key: \"shortcut_icon\",\n        rel: \"shortcut icon\",\n        href: \"/assets/images/fundi-logo.png\"\n      }), __jsx(\"link\", {\n        key: \"apple-touch-icon\",\n        rel: \"apple-touch-icon\",\n        href: \"/assets/images/fundi-logo.png\"\n      }), __jsx(\"title\", null, \"Ch\\xEDnh s\\xE1ch b\\u1EA3o m\\u1EADt\"), __jsx(\"script\", {\n        async: true,\n        src: \"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"\n      }), __jsx(\"script\", {\n        dangerouslySetInnerHTML: {\n          __html: `(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n          new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n        })(window,document,'script','dataLayer','GTM-PR6RH5');`\n        }\n      })), __jsx(Header, _extends({}, this.props, {\n        collapseCategory: this.collapseCategory,\n        expandCategory: this.expandCategory,\n        categoryIndex: this.state.categoryIndex,\n        showLoginPage: this.showLoginPage\n      })), __jsx(\"main\", {\n        className: \"main\"\n      }, __jsx(Privacy, this.props), this.state.showLoginPage && __jsx(Login, {\n        showLoginPage: this.showLoginPage,\n        cookieManagement: this.cookieManagement\n      })), __jsx(Footer, null));\n    }\n\n    if (this.props.pages == 'gioi-thieu-fundi-vn') {\n      return __jsx(Fragment, null, __jsx(Head, null, __jsx(\"link\", {\n        key: \"shortcut_icon\",\n        rel: \"shortcut icon\",\n        href: \"/assets/images/fundi-logo.png\"\n      }), __jsx(\"link\", {\n        key: \"apple-touch-icon\",\n        rel: \"apple-touch-icon\",\n        href: \"/assets/images/fundi-logo.png\"\n      }), __jsx(\"title\", null, \"Gi\\u1EDBi thi\\u1EC7u v\\u1EC1 fundi\"), __jsx(\"script\", {\n        async: true,\n        src: \"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"\n      }), __jsx(\"script\", {\n        dangerouslySetInnerHTML: {\n          __html: `(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n          new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n          j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n          'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n        })(window,document,'script','dataLayer','GTM-PR6RH5');`\n        }\n      })), __jsx(Header, _extends({}, this.props, {\n        collapseCategory: this.collapseCategory,\n        expandCategory: this.expandCategory,\n        categoryIndex: this.state.categoryIndex,\n        showLoginPage: this.showLoginPage\n      })), __jsx(\"main\", {\n        className: \"main\"\n      }, __jsx(About, this.props), this.state.showLoginPage && __jsx(Login, {\n        showLoginPage: this.showLoginPage,\n        cookieManagement: this.cookieManagement\n      })), __jsx(Footer, null));\n    }\n\n    if (this.props.post) {\n      return __jsx(Fragment, null, __jsx(Head, null, __jsx(\"link\", {\n        key: \"shortcut_icon\",\n        rel: \"shortcut icon\",\n        href: \"/assets/images/fundi-logo.png\"\n      }), __jsx(\"link\", {\n        key: \"apple-touch-icon\",\n        rel: \"apple-touch-icon\",\n        href: \"/assets/images/fundi-logo.png\"\n      }), __jsx(\"meta\", {\n        name: \"keywords\",\n        content: this.props.post && this.props.post.title.rendered\n      }), __jsx(\"meta\", {\n        name: \"keywords\",\n        content: this.props.post && this.props.post.title.rendered\n      }), __jsx(\"meta\", {\n        name: \"description\",\n        content: this.props.post && this.props.post.excerpt.rendered.replace(/&#([0-9]{1,4});/gi, function (match, numStr) {\n          var num = _parseInt(numStr, 10); // read num as normal number\n\n\n          return String.fromCharCode(num);\n        })\n      }), __jsx(\"meta\", {\n        property: \"og:image\",\n        content: this.props.post && this.props.post.image_src && this.props.post.image_src.replace(\"http:\", \"https:\")\n      }), __jsx(\"meta\", {\n        property: \"og:url\",\n        content: this.props.post && this.props.post.link\n      }), __jsx(\"title\", null, this.props.post && this.props.post.title && this.props.post.title.rendered.replace(/&#([0-9]{1,4});/gi, function (match, numStr) {\n        var num = _parseInt(numStr, 10); // read num as normal number\n\n\n        return String.fromCharCode(num);\n      })), __jsx(\"script\", {\n        async: true,\n        src: \"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"\n      }), __jsx(\"script\", {\n        dangerouslySetInnerHTML: {\n          __html: `(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n  })(window,document,'script','dataLayer','GTM-PR6RH5');`\n        }\n      })), __jsx(Header, _extends({}, this.props, {\n        collapseCategory: this.collapseCategory,\n        expandCategory: this.expandCategory,\n        categoryIndex: this.state.categoryIndex,\n        showLoginPage: this.showLoginPage\n      })), __jsx(\"main\", {\n        className: \"main\"\n      }, __jsx(Post, this.props), this.state.showLoginPage && __jsx(Login, {\n        showLoginPage: this.showLoginPage,\n        cookieManagement: this.cookieManagement\n      })), __jsx(Footer, null));\n    } else if (this.props.postList) {\n      return __jsx(Fragment, null, __jsx(Head, null, __jsx(\"link\", {\n        key: \"shortcut_icon\",\n        rel: \"shortcut icon\",\n        href: \"/assets/images/fundi-logo.png\"\n      }), __jsx(\"link\", {\n        key: \"apple-touch-icon\",\n        rel: \"apple-touch-icon\",\n        href: \"/assets/images/fundi-logo.png\"\n      }), __jsx(\"script\", {\n        async: true,\n        src: \"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"\n      }), __jsx(\"script\", {\n        dangerouslySetInnerHTML: {\n          __html: `(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n  })(window,document,'script','dataLayer','GTM-PR6RH5');`\n        }\n      })), __jsx(Header, _extends({}, this.props, {\n        collapseCategory: this.collapseCategory,\n        expandCategory: this.expandCategory,\n        categoryIndex: this.state.categoryIndex,\n        showLoginPage: this.showLoginPage\n      })), __jsx(\"main\", {\n        className: \"main\"\n      }, __jsx(PostCategory, this.props), this.state.showLoginPage && __jsx(Login, {\n        showLoginPage: this.showLoginPage,\n        cookieManagement: this.cookieManagement\n      })), __jsx(Footer, null));\n    } else {\n      return __jsx(Fragment, null, __jsx(Head, null, __jsx(\"link\", {\n        key: \"shortcut_icon\",\n        rel: \"shortcut icon\",\n        href: \"/assets/images/fundi-logo.png\"\n      }), __jsx(\"link\", {\n        key: \"apple-touch-icon\",\n        rel: \"apple-touch-icon\",\n        href: \"/assets/images/fundi-logo.png\"\n      }), __jsx(\"title\", null, \"Kh\\xF4ng t\\xECm th\\u1EA5y trang y\\xEAu c\\u1EA7u | 404\"), __jsx(\"script\", {\n        async: true,\n        src: \"https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js\"\n      }), __jsx(\"script\", {\n        dangerouslySetInnerHTML: {\n          __html: `(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':\n    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],\n    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=\n    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);\n  })(window,document,'script','dataLayer','GTM-PR6RH5');`\n        }\n      })), __jsx(Header, _extends({}, this.props, {\n        collapseCategory: this.collapseCategory,\n        expandCategory: this.expandCategory,\n        categoryIndex: this.state.categoryIndex\n      })), __jsx(\"main\", {\n        className: \"main\"\n      }, __jsx(PageNotFound, null)), __jsx(Footer, null));\n    }\n  }\n\n}\n\nexport default PagePost;","map":null,"metadata":{},"sourceType":"module"}