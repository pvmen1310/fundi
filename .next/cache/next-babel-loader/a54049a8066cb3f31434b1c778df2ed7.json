{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar _jsxFileName = \"D:\\\\xampp\\\\htdocs\\\\fundi\\\\fundi_new\\\\fundi-next\\\\containers\\\\Category\\\\category.jsx\";\nvar __jsx = React.createElement;\nimport React, { Component, Fragment } from 'react';\nimport CMS from '../../lib/api';\nimport Head from 'next/head';\nimport CategoryFilter from '../../components/Category/CategoryFilter';\nimport SearchList from '../../components/Search/SearchList';\nimport { isMobile } from 'react-device-detect';\n\nclass Category extends Component {\n  constructor(props) {\n    super(props);\n\n    _defineProperty(this, \"onChangeSearchOrder\", event => {\n      let orderBy = '';\n      let orderType = '';\n\n      if (event.currentTarget.value == 1) {\n        orderBy = 'regular_price';\n        orderType = 'ASC';\n      }\n\n      if (event.currentTarget.value == 2) {\n        orderBy = 'regular_price';\n        orderType = 'DESC';\n      }\n\n      if (event.currentTarget.value == 3) {\n        orderBy = 'discount_percent';\n        orderType = 'DESC';\n      }\n\n      this.setState({\n        orderBy: orderBy,\n        orderType: orderType,\n        currentPage: 1\n      });\n      let queryCondition = {\n        'name': this.props.searchName,\n        'cat_name': this.props.catUrl,\n        'page': this.state.currentPage,\n        'min_price': this.state.minPrice,\n        'max_price': this.state.maxPrice,\n        'order_by': orderBy,\n        'order_type': orderType\n      };\n      this.getProductsByCondition(queryCondition, true);\n    });\n\n    _defineProperty(this, \"onChangePriceRange\", event => {\n      let minPrice = '';\n      let maxPrice = '';\n\n      if (event.currentTarget.value == 1) {\n        maxPrice = 500000;\n      }\n\n      if (event.currentTarget.value == 2) {\n        minPrice = 500000;\n        maxPrice = 1000000;\n      }\n\n      if (event.currentTarget.value == 3) {\n        minPrice = 1000000;\n        maxPrice = 5000000;\n      }\n\n      if (event.currentTarget.value == 4) {\n        minPrice = 5000000;\n        maxPrice = 10000000;\n      }\n\n      if (event.currentTarget.value == 5) {\n        minPrice = 10000000;\n      }\n\n      this.setState({\n        minPrice: minPrice,\n        maxPrice: maxPrice,\n        currentPage: 1\n      });\n      let queryCondition = {\n        'name': this.props.searchName,\n        'cat_name': this.props.catUrl,\n        'page': this.state.currentPage,\n        'min_price': minPrice,\n        'max_price': maxPrice,\n        'orderBy': this.state.orderBy,\n        'orderType': this.state.orderType\n      };\n      this.getProductsByCondition(queryCondition, true);\n    });\n\n    _defineProperty(this, \"showMore\", event => {\n      let currentPage = this.state.currentPage;\n      let queryCondition = {\n        'name': this.props.searchName,\n        'cat_name': this.props.catUrl,\n        'page': currentPage + 1,\n        'per_page': 20,\n        'order_by': this.state.orderBy,\n        'order_type': this.state.orderType,\n        'min_price': this.state.minPrice,\n        'max_price': this.state.maxPrice\n      };\n      this.getProductsByCondition(queryCondition, false);\n    });\n\n    this.state = {\n      currentPage: 1,\n      total: 0,\n      products: this.props.products,\n      orderBy: '',\n      orderType: '',\n      minPrice: '',\n      maxPrice: '',\n      catName: '',\n      hideShowMore: 0,\n      post: {},\n      comments: []\n    };\n  }\n\n  mobileCheck() {\n    return isMobile;\n  }\n\n  getParameterByName(name, url) {\n    if (!url) url = window.location.href;\n    name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\n    var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\n        results = regex.exec(url);\n    if (!results) return null;\n    if (!results[2]) return '';\n    return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\n  }\n\n  getProductsByCondition(queryCondition, isResetPageNumber = true) {\n    let products = this.state.products;\n    let currentPage = this.state.currentPage;\n    CMS.getProducts(queryCondition).then(response => {\n      if (!isResetPageNumber) {\n        this.setState({\n          products: this.state.products.concat(response.data.data),\n          total: response.data.pagination && response.data.pagination.total,\n          currentPage: currentPage + 1\n        });\n      } else {\n        this.setState({\n          products: response.data.data,\n          total: response.data.pagination && response.data.pagination.total\n        });\n      }\n\n      if (response.data.pagination && response.data.pagination.current_page == response.data.pagination.total_page) {\n        this.setState({\n          hideShowMore: 1\n        });\n      } else {\n        this.setState({\n          hideShowMore: 0\n        });\n      }\n    });\n  }\n\n  getPost(slug) {\n    CMS.getPosts(slug).then(response => {\n      this.setState({\n        post: response.data[0]\n      });\n      CMS.getComments(response.data[0].id).then(response => {\n        this.setState({\n          comments: response.data\n        });\n      });\n    });\n  }\n\n  render() {\n    return __jsx(Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, __jsx(Head, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }, __jsx(\"link\", {\n      key: \"shortcut_icon\",\n      rel: \"shortcut icon\",\n      href: \"/assets/images/fundi-logo.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), __jsx(\"link\", {\n      key: \"apple-touch-icon\",\n      rel: \"apple-touch-icon\",\n      href: \"/assets/images/fundi-logo.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 190\n      },\n      __self: this\n    }), __jsx(\"title\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, \"Danh mục \" + this.props.catName), __jsx(\"meta\", {\n      name: \"description\",\n      content: \"Kết quả thuộc \" + this.props.catName + \": \" + \" sản phẩm giảm giá trên Fundi.vn\" + \". Khuyến mãi HOT, coupon giảm giá, bài review để mua hàng tại Lazada, Tiki, Adayroi, Lotte, FPT shop, Nguyễn Kim và các sàn TMĐT khác.\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    })), __jsx(CategoryFilter, _extends({}, this.props, {\n      categories: this.props.categories,\n      total: this.props.total,\n      onChangePriceRange: this.onChangePriceRange,\n      onChangeSearchOrder: this.onChangeSearchOrder,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    })), __jsx(SearchList, _extends({}, this.props, {\n      products: this.props.products,\n      mobileCheck: this.mobileCheck,\n      showMore: this.showMore,\n      hideShowMore: this.state.hideShowMore,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    })));\n  }\n\n}\n\nexport default Category;","map":{"version":3,"sources":["D:/xampp/htdocs/fundi/fundi_new/fundi-next/containers/Category/category.jsx"],"names":["React","Component","Fragment","CMS","Head","CategoryFilter","SearchList","isMobile","Category","constructor","props","event","orderBy","orderType","currentTarget","value","setState","currentPage","queryCondition","searchName","catUrl","state","minPrice","maxPrice","getProductsByCondition","total","products","catName","hideShowMore","post","comments","mobileCheck","getParameterByName","name","url","window","location","href","replace","regex","RegExp","results","exec","decodeURIComponent","isResetPageNumber","getProducts","then","response","concat","data","pagination","current_page","total_page","getPost","slug","getPosts","getComments","id","render","categories","onChangePriceRange","onChangeSearchOrder","showMore"],"mappings":"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","sourcesContent":["import React, { Component, Fragment } from 'react';\r\n\r\nimport CMS from '../../lib/api';\r\nimport Head from 'next/head';\r\nimport CategoryFilter from '../../components/Category/CategoryFilter'\r\nimport SearchList from '../../components/Search/SearchList'\r\nimport {isMobile} from 'react-device-detect'\r\n\r\nclass Category extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            currentPage : 1,\r\n            total : 0,\r\n            products : this.props.products,\r\n            orderBy : '',\r\n            orderType : '',\r\n            minPrice : '',\r\n            maxPrice : '',\r\n            catName : '',\r\n            hideShowMore : 0,\r\n            post : {},\r\n            comments : [],\r\n        };\r\n    }\r\n\r\n    mobileCheck() {\r\n        return isMobile\r\n    }\r\n\r\n    getParameterByName(name, url) {\r\n        if (!url) url = window.location.href;\r\n        name = name.replace(/[\\[\\]]/g, \"\\\\$&\");\r\n        var regex = new RegExp(\"[?&]\" + name + \"(=([^&#]*)|&|#|$)\"),\r\n            results = regex.exec(url);\r\n        if (!results) return null;\r\n        if (!results[2]) return '';\r\n        return decodeURIComponent(results[2].replace(/\\+/g, \" \"));\r\n    }\r\n\r\n    getProductsByCondition(queryCondition,isResetPageNumber = true)\r\n    {\r\n        let products = this.state.products;\r\n        let currentPage = this.state.currentPage;\r\n        CMS.getProducts(queryCondition).then(response => {\r\n            if(!isResetPageNumber) {\r\n              this.setState({\r\n                  products: this.state.products.concat(response.data.data),\r\n                  total : response.data.pagination && response.data.pagination.total,\r\n                  currentPage: currentPage + 1,\r\n               });\r\n            } else {\r\n                 this.setState({\r\n                     products: response.data.data,\r\n                     total : response.data.pagination && response.data.pagination.total,\r\n                  });\r\n            }\r\n\r\n            if(response.data.pagination && response.data.pagination.current_page == response.data.pagination.total_page) {\r\n                this.setState({\r\n                    hideShowMore : 1\r\n                })\r\n            }else {\r\n              this.setState({\r\n                   hideShowMore : 0\r\n               })\r\n            }\r\n        });\r\n    }\r\n\r\n    getPost(slug) {\r\n        CMS.getPosts(slug).then(response => {\r\n            this.setState({\r\n                post: response.data[0],\r\n            });\r\n\r\n           CMS.getComments(response.data[0].id).then(response => {\r\n                 this.setState({\r\n                    comments: response.data,\r\n                });\r\n           })\r\n        });\r\n    }\r\n\r\n    onChangeSearchOrder = (event) => {\r\n        let orderBy = '';\r\n        let orderType = '';\r\n\r\n        if(event.currentTarget.value == 1) {\r\n            orderBy = 'regular_price';\r\n            orderType = 'ASC'\r\n        }\r\n\r\n        if(event.currentTarget.value == 2) {\r\n            orderBy = 'regular_price';\r\n            orderType = 'DESC'\r\n        }\r\n\r\n         if(event.currentTarget.value == 3) {\r\n            orderBy = 'discount_percent';\r\n            orderType = 'DESC'\r\n         }\r\n\r\n         this.setState({\r\n            orderBy: orderBy,\r\n            orderType : orderType,\r\n            currentPage : 1,\r\n         });\r\n\r\n        let queryCondition =  {\r\n            'name' : this.props.searchName,\r\n            'cat_name' : this.props.catUrl,\r\n            'page' : this.state.currentPage,\r\n            'min_price': this.state.minPrice,\r\n            'max_price' : this.state.maxPrice,\r\n            'order_by' : orderBy,\r\n            'order_type' : orderType,\r\n        };\r\n\r\n        this.getProductsByCondition(queryCondition,true);\r\n    }\r\n\r\n   onChangePriceRange = (event) => {\r\n        let minPrice = '';\r\n        let maxPrice = '';\r\n\r\n        if(event.currentTarget.value == 1) {\r\n            maxPrice = 500000;\r\n        }\r\n\r\n        if(event.currentTarget.value == 2) {\r\n            minPrice = 500000;\r\n            maxPrice = 1000000;\r\n        }\r\n\r\n         if(event.currentTarget.value == 3) {\r\n            minPrice = 1000000;\r\n            maxPrice = 5000000;\r\n         }\r\n\r\n         if(event.currentTarget.value == 4) {\r\n             minPrice = 5000000;\r\n             maxPrice = 10000000;\r\n         }\r\n\r\n         if(event.currentTarget.value == 5) {\r\n             minPrice = 10000000;\r\n         }\r\n         this.setState({\r\n            minPrice: minPrice,\r\n            maxPrice : maxPrice,\r\n            currentPage : 1,\r\n         });\r\n\r\n        let queryCondition =  {\r\n            'name' : this.props.searchName,\r\n            'cat_name' : this.props.catUrl,\r\n            'page' : this.state.currentPage,\r\n            'min_price' : minPrice,\r\n            'max_price' : maxPrice,\r\n            'orderBy': this.state.orderBy,\r\n            'orderType' : this.state.orderType,\r\n        };\r\n\r\n        this.getProductsByCondition(queryCondition,true);\r\n    }\r\n\r\n    showMore = (event) => {\r\n\r\n       let currentPage = this.state.currentPage;\r\n       let queryCondition =  {\r\n         'name' : this.props.searchName,\r\n         'cat_name' : this.props.catUrl,\r\n         'page' : currentPage + 1,\r\n         'per_page' : 20,\r\n         'order_by' : this.state.orderBy,\r\n         'order_type' : this.state.orderType,\r\n         'min_price' : this.state.minPrice,\r\n         'max_price' : this.state.maxPrice,\r\n       };\r\n       this.getProductsByCondition(queryCondition,false);\r\n    }\r\n\r\n    render() {\r\n        \r\n            return (\r\n            <Fragment>\r\n                <Head>\r\n                    <link key=\"shortcut_icon\" rel=\"shortcut icon\" href=\"/assets/images/fundi-logo.png\" />\r\n                    <link key=\"apple-touch-icon\" rel=\"apple-touch-icon\" href=\"/assets/images/fundi-logo.png\"/>  \r\n                    <title>{\"Danh mục \" + this.props.catName}</title>\r\n                    <meta name=\"description\" content={\"Kết quả thuộc \" + this.props.catName + \": \" + \" sản phẩm giảm giá trên Fundi.vn\"\r\n                        + \". Khuyến mãi HOT, coupon giảm giá, bài review để mua hàng tại Lazada, Tiki, Adayroi, Lotte, FPT shop, Nguyễn Kim và các sàn TMĐT khác.\"} />\r\n                </Head>\r\n                <CategoryFilter {...this.props} categories={this.props.categories } total={this.props.total} onChangePriceRange={this.onChangePriceRange}\r\n                onChangeSearchOrder={this.onChangeSearchOrder}/>\r\n                <SearchList {...this.props} products = {this.props.products} mobileCheck={this.mobileCheck} showMore={this.showMore} hideShowMore={this.state.hideShowMore} />\r\n            </Fragment>\r\n            );\r\n    }\r\n}\r\n\r\nexport default Category\r\n"]},"metadata":{},"sourceType":"module"}