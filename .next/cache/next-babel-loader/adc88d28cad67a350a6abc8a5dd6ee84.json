{"ast":null,"code":"import _extends from \"@babel/runtime-corejs2/helpers/esm/extends\";\nimport _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nimport _classCallCheck from \"@babel/runtime-corejs2/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime-corejs2/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"@babel/runtime-corejs2/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"@babel/runtime-corejs2/helpers/esm/getPrototypeOf\";\nimport _assertThisInitialized from \"@babel/runtime-corejs2/helpers/esm/assertThisInitialized\";\nimport _inherits from \"@babel/runtime-corejs2/helpers/esm/inherits\";\nimport _defineProperty from \"@babel/runtime-corejs2/helpers/esm/defineProperty\";\nvar __jsx = React.createElement;\nimport React, { Component, Fragment } from 'react';\nimport Head from 'next/head';\nimport CMS from '../../lib/api/cms';\nimport Carousel from '../../components/Carousel/carousel';\nimport Channels from '../../components/Channels/channels';\nimport DownloadApp from '../../components/DownloadApp/downloadApp';\nimport { isMobile } from 'react-device-detect';\nimport Configuration from '../../lib/api/configuration';\n\nvar Home =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Home, _Component);\n\n  function Home(props) {\n    var _this;\n\n    _classCallCheck(this, Home);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Home).call(this, props));\n\n    _defineProperty(_assertThisInitialized(_this), \"getCookie\", function (cookieName) {\n      console.log(cookieName);\n      var match = document.cookie.match(new RegExp('(^| )' + cookieName + '=([^;]+)'));\n      if (match) return match[2];\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"showMore\", function (event) {\n      var page = _this.state.page;\n\n      _this.setState({\n        page: page + 1\n      });\n\n      var queryCondition = {\n        page: page + 1\n      };\n      CMS.getCoupons(queryCondition).then(function (response) {\n        _this.setState({\n          coupons: _this.state.coupons.concat(response.data.data)\n        });\n      });\n    });\n\n    _this.state = {\n      carousel: [],\n      carousel_sliders: [],\n      promotions: [],\n      launchers: [],\n      products: [],\n      sellers: [],\n      posts: [],\n      news: [],\n      sliders: [],\n      coupons: [],\n      ms: 0,\n      secs: 3600,\n      timer: 0,\n      isShowCountDown: false,\n      isShowTicker: false,\n      page: 1,\n      userId: '',\n      apiToken: ''\n    };\n    return _this;\n  }\n\n  _createClass(Home, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.setState({\n        apiToken: this.getCookie('api_token'),\n        userId: this.getCookie('user_id')\n      }, function () {\n        return console.log(_this2.state);\n      });\n      this.getBanners();\n      this.getSellers();\n    }\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this3 = this;\n\n      this.interval = setInterval(function () {\n        _this3.setState({\n          ms: 1\n        });\n      }, 1000);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      clearInterval(this.interval);\n    }\n  }, {\n    key: \"getBanners\",\n    value: function getBanners() {\n      var _this4 = this;\n\n      CMS.getBanner().then(function (response) {\n        var sliders = response.data && response.data.data;\n        sliders && sliders.map(function (item, key) {\n          return item.slider_type == \"carousel\" ? _this4.setState({\n            carousel_sliders: item.slider_items\n          }) : \"\";\n        });\n\n        _this4.setState({\n          sliders: response.data && response.data.data\n        });\n      });\n    }\n  }, {\n    key: \"getSellers\",\n    value: function getSellers() {\n      var _this5 = this;\n\n      CMS.getSellers().then(function (response) {\n        _this5.setState({\n          sellers: response && response.data\n        });\n      });\n    }\n  }, {\n    key: \"mobileCheck\",\n    value: function mobileCheck() {\n      return isMobile;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return __jsx(Fragment, null, __jsx(Head, null, __jsx(\"style\", null, \"body {\\n                            background: url(\".concat(this.state.backgroundImage, \") top center no-repeat fixed;\\n                            background-size: cover;\\n                        }\\n                        @media (max-width: 575.98px) {\\n                            #root > main {\\n                                padding-left: 0rem;\\n                            }\\n                        }\"))), __jsx(Carousel, _extends({}, this.props, {\n        mobileCheck: this.mobileCheck,\n        userId: this.state.userId,\n        carousel: _toConsumableArray(this.state.sliders),\n        carousel_sliders: this.state.carousel_sliders\n      })), __jsx(Channels, _extends({}, this.props, {\n        sellers: this.state.sellers,\n        apiToken: this.state.apiToken,\n        userId: this.state.userId\n      })), __jsx(DownloadApp, null));\n    }\n  }]);\n\n  return Home;\n}(Component);\n\nexport default Home;","map":null,"metadata":{},"sourceType":"module"}